{"version":3,"sources":["webpack:///webpack/bootstrap d368c49b088b1b24f36e","webpack:///./js/game.js","webpack:///./js/player.js","webpack:///./sprites/player/standingDown.js","webpack:///./js/sprite.js","webpack:///./js/planet.js","webpack:///./js/square.js","webpack:///./js/viewport.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;AC3CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,yCAAwC;AACxC,uCAAsC;AACtC,0CAAyC;AACzC,yCAAwC;AACxC;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7FA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAQ,OAAO;AACf;AACA;AACA;AACA;AACA,aAAY,gBAAgB;AAC5B,eAAc,eAAe;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACvBA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,QAAQ;AACpB;AACA,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAQ;AACR;AACA,aAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,OAAO;AACtB,eAAc,eAAe;AAC7B;AACA,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAQ;AACR,aAAY,OAAO;AACnB;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;;AAEA;AACA,SAAQ,OAAO;AACf;AACA,aAAY,OAAO;AACnB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,uBAAuB;AACnC;AACA;AACA;;AAEA;AACA;AACA,aAAY,OAAO;AACnB,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"./spaceman.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap d368c49b088b1b24f36e\n **/","console.log(\"Enter, spaceman.\");\n\n// 1. REQUIRE DEPENDENCIES //\nvar Player = require('./player.js');\nvar Planet = require('./planet.js');\nvar Square = require('./square.js');\nvar Viewport = require('./viewport.js');\nvar Game = {};\n\n// 2. INITIALIZE CANVAS //\nvar initializeCanvas = function () {\n  canvas = document.getElementById('canvas');\n  ctx = canvas.getContext('2d');\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  window.time = 0;\n};\n\n// 3. SETUP GAME WORLD //\nvar setupWorld = function () {\n  Game.planet = new Planet ();\n  var spawnSquare = Game.planet.map[50][50];\n  Game.player = new Player (Game, spawnSquare);\n  Game.viewport = new Viewport (Game.planet, 45, 45);\n  spawnSquare.content = Game.player;\n};\n\n// 4. DEFINE GAME FUNCTIONS //\nGame.advance = function () {\n  this.viewport.render(ctx);\n  this.planet.time += 1;\n  if (this.planet.time > 480) {\n    this.planet.time = 0;\n  }\n};\n\nGame.render = function () {\n  this.viewport.render(ctx);\n};\n\nwindow.onload = function () {\n  initializeCanvas();\n  setupWorld();\n  Game.advance();\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/game.js\n ** module id = 0\n ** module chunks = 0\n **/","var sprites = {\n  standingDown: require('../sprites/player/standingDown'),\n};\n\nvar Player = function (GameObject, square) {\n  this.game = GameObject;\n  this.square = square;\n  this.sprite = sprites.standingDown;\n  this.leftPressed = false;\n  this.upPressed = false;\n  this.rightPressed = false;\n  this.downPressed = false;\n  this.walking = false;\n  this.offset = {\n    x: 0,\n    y: 0,\n  };\n  this.setupKeyControls();\n};\n\nPlayer.prototype.setupKeyControls = function () {\n  window.onkeydown = function (event) {\n    switch (event.keyCode) {\n      case 37:\n        this.leftPressed = true;\n        this.walk(-1, 0);\n        break;\n      case 38:\n        this.upPressed = true;\n        this.walk(0, -1);\n        break;\n      case 39:\n        this.rightPressed = true;\n        this.walk(1, 0);\n        break;\n      case 40:\n        this.downPressed = true;\n        this.walk(0, 1);\n        break;\n    }\n  }.bind(this);\n  window.onkeyup = function (event) {\n    switch (event.keyCode) {\n      case 37: this.leftPressed = false; break;\n      case 38: this.upPressed = false; break;\n      case 39: this.rightPressed = false; break;\n      case 40: this.downPressed = false; break;\n    }\n  }.bind(this);\n};\n\nPlayer.prototype.walk = function (x, y) {\n  if (this.walking) {\n    return null;\n  }\n  this.walking = true;\n  this.squareExit = 0;\n  this.squareEnter = 0;\n  var animateExit = function () {\n    this.squareExit += 1;\n    this.offset.x += x*16;\n    this.offset.y += y*4;\n    this.game.render();\n    if (this.squareExit > 3) {\n      clearInterval(this.walkInterval);\n      this.offset.x = this.offset.x * -1;\n      this.offset.y = this.offset.y * -1;\n      this.squareExit = 0;\n      this.changeSquare(x, y);\n      this.walkInterval = setInterval(animateEnter, 24);\n    }\n  }.bind(this);\n  var animateEnter = function () {\n    this.squareEnter += 1;\n    this.offset.x += x*16;\n    this.offset.y += y*4;\n    this.game.render();\n    if (this.squareEnter > 3) {\n      clearInterval(this.walkInterval);\n      this.offset.x = this.offset.y = 0;\n      this.walking = false;\n    }\n  }.bind(this);\n  this.walkInterval = setInterval(animateExit, 24);\n};\n\nPlayer.prototype.changeSquare = function (x, y) {\n  this.square.content = false;\n  this.square.map[this.square.y + y][this.square.x + x].content = this;\n  this.square = this.square.map[this.square.y + y][this.square.x + x];\n  this.game.advance();\n};\n\nmodule.exports = Player;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/player.js\n ** module id = 1\n ** module chunks = 0\n **/","var Sprite = require('../../js/sprite.js');\n\nvar image = [\n[\n[\"\"/**/,\"\"/**/,\"\"/**/,\"\"/**/,\"\"/**/,\"\"/**/,\"\"/**/,\"\"/**/,\"\"/**/,\"\"/**/,\"\"/**/,\"\"/**/],\n[\"\"/**/,\"\"/**/,\"\"/**/,\"\"/**/,\"\"/**/,\"\"/**/,\"\"/**/,\"\"/**/,\"\"/**/,\"\"/**/,\"\"/**/,\"\"/**/],\n[\"\"/**/,\"\"/**/,\"#fff\",\"#fff\",\"#fff\",\"#fff\",\"#fff\",\"#fff\",\"#fff\",\"\"/**/,\"\"/**/,\"\"/**/],\n[\"\"/**/,\"#fff\",\"\"/**/,\"\"/**/,\"\"/**/,\"\"/**/,\"\"/**/,\"\"/**/,\"\"/**/,\"#fff\",\"\"/**/,\"\"/**/],\n[\"#fff\",\"\"/**/,\"\"/**/,\"\"/**/,\"\"/**/,\"\"/**/,\"\"/**/,\"\"/**/,\"\"/**/,\"\"/**/,\"#fff\",\"\"/**/],\n[\"#fff\",\"\"/**/,\"\"/**/,\"#720\",\"#720\",\"#720\",\"#720\",\"#720\",\"\"/**/,\"\"/**/,\"#fff\",\"\"/**/],\n[\"#fff\",\"\"/**/,\"\"/**/,\"#fff\",\"#478\",\"#720\",\"#fff\",\"#478\",\"\"/**/,\"\"/**/,\"#fff\",\"\"/**/],\n[\"#fff\",\"\"/**/,\"#620\",\"#fff\",\"#478\",\"#720\",\"#fff\",\"#478\",\"#620\",\"\"/**/,\"#fff\",\"\"/**/],\n[\"#fff\",\"\"/**/,\"#520\",\"#720\",\"#720\",\"#520\",\"#720\",\"#720\",\"#520\",\"\"/**/,\"#fff\",\"\"/**/],\n[\"#fff\",\"\"/**/,\"\"/**/,\"#720\",\"#520\",\"#520\",\"#520\",\"#720\",\"\"/**/,\"\"/**/,\"#fff\",\"\"/**/],\n[\"\"/**/,\"#fff\",\"\"/**/,\"\"/**/,\"#720\",\"#720\",\"#720\",\"\"/**/,\"\"/**/,\"#fff\",\"\"/**/,\"\"/**/],\n[\"\"/**/,\"\"/**/,\"#fff\",\"#fff\",\"#fff\",\"#88f\",\"#fff\",\"#fff\",\"#fff\",\"\"/**/,\"\"/**/,\"\"/**/],\n[\"\"/**/,\"#88f\",\"#fff\",\"#fff\",\"#fff\",\"#88f\",\"#fff\",\"#fff\",\"#fff\",\"#88f\",\"\"/**/,\"\"/**/],\n[\"#88f\",\"#fff\",\"#fff\",\"#fff\",\"#fff\",\"#88f\",\"#fff\",\"#fff\",\"#fff\",\"#fff\",\"#88f\",\"\"/**/],\n[\"#88f\",\"#fff\",\"#88f\",\"#fff\",\"#fff\",\"#88f\",\"#fff\",\"#fff\",\"#88f\",\"#fff\",\"#88f\",\"\"/**/],\n[\"#88f\",\"#fff\",\"#88f\",\"#fff\",\"#fff\",\"#88f\",\"#fff\",\"#fff\",\"#88f\",\"#fff\",\"#88f\",\"\"/**/],\n[\"#88f\",\"#fff\",\"#88f\",\"#fff\",\"#fff\",\"#88f\",\"#fff\",\"#fff\",\"#88f\",\"#fff\",\"#88f\",\"\"/**/],\n[\"#88f\",\"#88f\",\"#88f\",\"#fff\",\"#fff\",\"#88f\",\"#fff\",\"#fff\",\"#88f\",\"#88f\",\"#88f\",\"\"/**/],\n[\"\"/**/,\"\"/**/,\"#88f\",\"#fff\",\"#fff\",\"#88f\",\"#fff\",\"#fff\",\"#88f\",\"\"/**/,\"\"/**/,\"\"/**/],\n[\"\"/**/,\"\"/**/,\"#88f\",\"#fff\",\"#88f\",\"\"/**/,\"#88f\",\"#fff\",\"#88f\",\"\"/**/,\"\"/**/,\"\"/**/],\n[\"\"/**/,\"\"/**/,\"#88f\",\"#fff\",\"#88f\",\"\"/**/,\"#88f\",\"#fff\",\"#88f\",\"\"/**/,\"\"/**/,\"\"/**/],\n[\"\"/**/,\"\"/**/,\"#88f\",\"#fff\",\"#88f\",\"\"/**/,\"#88f\",\"#fff\",\"#88f\",\"\"/**/,\"\"/**/,\"\"/**/],\n[\"\"/**/,\"\"/**/,\"#88f\",\"#fff\",\"#88f\",\"\"/**/,\"#88f\",\"#fff\",\"#88f\",\"\"/**/,\"\"/**/,\"\"/**/],\n[\"\"/**/,\"\"/**/,\"#88f\",\"#88f\",\"#88f\",\"\"/**/,\"#88f\",\"#88f\",\"#88f\",\"\"/**/,\"\"/**/,\"\"/**/]\n]\n];\n\nvar sprite = new Sprite (image);\n\nmodule.exports = sprite;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./sprites/player/standingDown.js\n ** module id = 2\n ** module chunks = 0\n **/","var Sprite = function (image) {\n  this.image = image;\n  this.height = this.image[0].length;\n  this.width = this.image[0][0].length;\n  this.frame = 0;\n};\n\nSprite.prototype.draw = function (leftFootPos, ctx) {\n  var x; var y; var pixel = 3;\n  var topLeftPos = {\n    x: leftFootPos.x,\n    y: leftFootPos.y - this.height * pixel,\n  };\n  for (y=0 ; y<this.height ; y++) {\n    for (x=0 ; x<this.width ; x++) {\n      if (this.image[this.frame][y][x]) {\n        ctx.fillStyle = this.image[this.frame][y][x];\n        ctx.fillRect(topLeftPos.x + x * pixel, topLeftPos.y + y * pixel, pixel, pixel);\n      }\n    }\n  }\n};\n\nmodule.exports = Sprite;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/sprite.js\n ** module id = 3\n ** module chunks = 0\n **/","var Square = require('./square.js');\n\nvar Planet = function () {\n  this.map = [];\n  this.time = 0;\n  this.generate();\n};\n\nPlanet.prototype.generate = function () {\n  var y; var x;\n  this.dirtHues = {\n    r: Math.round(Math.random()*255),\n    g: Math.round(Math.random()*255),\n    b: Math.round(Math.random()*255),\n  };\n  this.dirtColor = hex(this.dirtHues.r, this.dirtHues.g, this.dirtHues.b);\n  for (y=0 ; y<144 ; y++) {\n    this.map.push([]);\n    for (x=0 ; x<144 ; x++) {\n      this.map[y].push(new Square (x, y, this.dirtColor, this.map));\n    }\n  }\n  this.skyHues = {\n    r: Math.random()*2,\n    g: Math.random()*2,\n    b: Math.random()*2,\n  };\n  this.sky = this.generateSky();\n};\n\nvar hex = function (r, g, b) {\n  // r, g, and b are integers between 0 and 255\n  var i; var j;\n  args = [r, g, b];\n  for (j=0 ; j<3 ; j++) {\n    if (args[j] > 255) {\n      args[j] = 255;\n    }\n  colors = [\n    Math.round(args[0]).toString(16),\n    Math.round(args[1]).toString(16),\n    Math.round(args[2]).toString(16),\n  ];\n  }\n  for (i=0 ; i<3 ; i++) {\n    if (colors[i].length < 2) {\n      colors[i] = '0' + colors[i];\n    }\n  }\n  var hexString = '#'+ colors.join('');\n  return hexString;\n};\n\nPlanet.prototype.generateSky = function () {\n  var sky = []; var x; var y;\n  var red = 0; var green = 0; var blue = 0;\n  var color = hex(red, green, blue);\n  for (y=0 ; y<480 ; y++) {\n    sky.push([]);\n    if (y > 50 && y < 240) {\n      red += this.skyHues.r;\n      green += this.skyHues.g;\n      blue += this.skyHues.b;\n    } else if (y > 240 && y < 430) {\n      red -= this.skyHues.r;\n      green -= this.skyHues.g;\n      blue -= this.skyHues.b;\n    }\n    color = hex(red, green, blue);\n    for (x=0 ; x<240 ; x++) {\n      sky[y].push(color);\n    }\n  }\n  return sky;\n};\n\nmodule.exports = Planet;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/planet.js\n ** module id = 4\n ** module chunks = 0\n **/","var Square = function (x, y, dirtColor, map) {\n  this.x = x;\n  this.y = y;\n  this.map = map;\n  this.content = false;\n  this.dirtColor = dirtColor;\n};\n\nSquare.prototype.renderEmpty = function (ctx, viewOrigin) {\n  ctx.fillStyle = this.dirtColor;\n  if (this.content) {\n    ctx.fillStyle = '#fff';\n  }\n  ctx.fillRect((this.x - viewOrigin.x) * 60, (this.y - viewOrigin.y) * 28 + 142, 60, 28);\n};\n\nSquare.prototype.renderContent = function (ctx, viewOrigin) {\n  if (this.content.sprite) {\n    this.content.sprite.draw({\n      x: (this.x - viewOrigin.x) * 60 + (60 - this.content.sprite.width * 3 + this.content.offset.x) / 2,\n      y: (this.y - viewOrigin.y) * 28 + 142 + 15 + this.content.offset.y\n    }, ctx);\n  }\n};\n\nmodule.exports = Square;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/square.js\n ** module id = 5\n ** module chunks = 0\n **/","var Viewport = function (planet, x, y) {\n  this.origin = {\n    x: x,\n    y: y,\n  };\n  this.planet = planet;\n  this.squares = [];\n  this.populateSquares();\n};\n\nViewport.prototype.populateSquares = function () {\n  var x; var y;\n  for (y=0 ; y<12 ; y++) {\n    this.squares.push([]);\n    for (x=0 ; x<12 ; x++) {\n      this.squares[y].push(this.planet.map[this.origin.y+y][this.origin.x+x]);\n    }\n  }\n};\n\nViewport.prototype.render = function (ctx) {\n  var x; var y; var i;\n  var objectQueue = [];\n  for (y=0 ; y<12 ; y++) {\n    for (x=0 ; x<12 ; x++) {\n      this.squares[y][x].renderEmpty(ctx, this.origin);\n      if (this.squares[y][x].content) {\n        objectQueue.push(this.squares[y][x]);\n      }\n    }\n  }\n  this.drawSky(ctx, this.planet);\n  for (i=0 ; i<objectQueue.length ; i++) {\n    objectQueue[i].renderContent(ctx, this.origin);\n  }\n};\n\nViewport.prototype.drawSky = function (ctx, planet) {\n  var offset;\n  for (y=0 ; y<48 ; y++) {\n    for (x=0 ; x<240 ; x++) {\n      offset = y + planet.time;\n      if (offset >= planet.sky.length) {\n        offset -= planet.sky.length;\n      }\n      if (!planet.sky[offset]) {\n        console.log('offset: ', offset);\n        console.log('sky length: ', planet.sky.length);\n      }\n      ctx.fillStyle = planet.sky[offset][x];\n      ctx.fillRect(x * 3, y * 3, 3, 3);\n    }\n  }\n};\n\nmodule.exports = Viewport;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/viewport.js\n ** module id = 6\n ** module chunks = 0\n **/"],"sourceRoot":""}